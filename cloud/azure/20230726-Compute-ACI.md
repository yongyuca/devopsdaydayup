# ACI (Azure Container Instance)
上一篇我们讲到了在Azure上部署微服务的利器：AKS。我们介绍了非常多在Azure上使用Kubernetes的好处，但是不管它好处再多，它依旧有一个致命的问题，就是，对于大部分非DevOps或刚刚入门DevOps的同学来说太不友好了，学习曲线相对其他技术都比较长。这就使得像CKA/CKAD这样的K8s考试一度含金量很高。但是对于很多只是想在云上使用到容器来运行他们自己的应用的同学来说，搭建一个AKS是一个很重且没有太多实际意义的事情。于是乎**Azure Container Instance**就这样在Azure家庭里孕育而生了。简单来说**ACI就是让用户可以在Azure云上以最快的速度部署简单应用容器的服务**。这里突出一下“**简单**”两个字，主要是想和复杂的AKS做一个区分。如果你的微服务应用架构非常复杂，那AKS可能更适合你。但是如果你就是一个很简单的应用服务，那就不用考虑AKS那么复杂的东西了，无脑选择ACI吧。人生很短，请放过自己

那我们来一起看看ACI有哪些值得注意的特点吧
1. **应用启动快**。和其他所有容器一样，与VM相比，ACI的启动速度快很多。我们在DevOps班会第一期讲Docker的时候反复说过一句话：**容器其实就是系统里的进程**。一个进程的启动当然比一个操作系统的启动快的多得多。
2. **网络访问方便**。相比于你在自己本地搭建的Docker容器，在云上用ACI创建容器一个最大的优势，就是能利用到Azure上的其他服务，尤其是网络服务，比如，你可以给你的容器申请**公网IP或域名**，这样其他互联网上的用户也能访问你部署在ACI容器里的应用了。你还可以使用Azure的**VPN gateway或ExpressRoute服务**，让你的应用容器更加安全的访问网络上的其他资源。
3. **更安全**。Azure比起一些自己搭建的容器，更能保证你的应用在容器里的隔离性。并且，ACI所部署的硬件环境也是更安全的(TEE: Trusted Execution Environment)。在TEE环境里，你传输的数据或者在内存里处理的数据都是加密的，非常安全。不过这是**可选项**，并且需要**额外付费**就是了。
4. **性能弹性**。你可以自由的调整你的ACI容器的**CPU核心数或则内存大小**，甚至你可以使用它们的**GPU资源**。这个不是你在本地可以轻易做到的事。
5. **存储**。你的ACI可以无缝的和Azure Storage 服务相连来存储你的应用数据。
6. **支持Linux和Windows容器**。Microsoft自家的产品，不支持Windows真有点说不过去...
7. ACI也支持像K8s里Pod的这样的服务，也就是**让多个容器共享一些资源**，包括网络，存储等。这比较适用于你要搜集你应用的日志或监控应用状态的情况。
8. **省钱**。如果你部署的应用没什么流量，不在乎偶尔的掉线，那么你可以选择使用它们的打折服务（Spot Container)。这个和VM里的概念一样，就是选择一些和他人共享的资源。这些资源在Azure资源充足的情况下都可以正常使用，但是一旦资源紧张，Azure可能就是暂时抽回这些资源，那么你的应用可能就得下线一段时间，直到资源再次充裕。虽然这会让你的服务可访问性受损，但是**高达70%**的折扣还是让广大勒紧裤腰带过日子的平民百姓们趋之若鹜!
  
