# 组团学Python第6期班会-变量

同学们好！欢迎大家继续我们的第6期不定期班会，一起来系统的学习Python。

本期学习内容：变量（Variables）

不知道大家是否还记得初中上数学课的时候，课本上经常有这样的题型:已知一个直角三角形，一个直角边a等于4，另一个直角边b等于3，求斜边c等于多少。这个代指三角形三个边的a，b，c就是变量。

Python的变量和绝大部分语言的变量意义相似，本质上就是一个临时存储数据值的容器。它们允许程序员在程序中引用这个数据，并且可以随时更改其值，程序执行完毕后变量里的值就被清空了。

在Python中，变量的创建是动态的，这意味着你可以直接为变量分配值，而不需要提前声明其类型。这一点和其他语言（比如Java或C）差别很大。举个例子：

```python
x = 5  # 创建一个变量x并将其赋值为5
name = "John"  # 创建一个变量name并将其赋值为字符串"John"
```

在这个例子中，变量x被赋值为整数5，而变量name被赋值为字符串"John"。 Python变量的名称遵循标识符（下讲会介绍）的命名规则，可以包含字母、数字和下划线，但不能以数字开头。

这里解释一个点，以上例子中x=5，这里的符号=并不是我们熟知的等号，在Python里，这是赋值符号，意思是把5这个数值赋值给x这个变量。以后提及x，就相当于指向5这个数值了。Python里的等号是==。

还有，赋值时是可以把变量赋值给变量的，比如y = x，这时y的值也是5。Python还支持连续赋值，比如z = y = x，那么z和y都指向5。还可以同时多次赋值，比如
x，y = 5，6，这时候x就指向5，y就指向6。这里要注意左右两侧的值数量要相等，否则会报错。

还有一个更有意思的点，是在Python里你还可以这样交换变量的值: x, y = y, x。看，你连中间变量都不用，是不是很方便?

上面我们看到Python变量都不用提前申明，拿来就用，这种不用提前申明变量名的灵活性，让Python变得简单，但也给开发人员带来了很多麻烦，产生很多隐秘的bug，不容易被发现。这个大家以后要非常小心。

稍等一下，这里有一个我故意埋下的“错误”信息需要更正一下。

上面讲到“变量就是一个临时存储数据值的容器”，这句话严谨意义上来说，是错误的。

Python的变量在某种程度上应该称为标签，而不是容器，因为它们实际上是对象的"引用”，而不是存储数据的"容器"。当你为变量赋值时，实际上是将该变量标记为引用某个对象。这意味着变量不存储数据本身，而是指向存储数据的内存位置。

一旦变量更改，指向了其他数据对象，计算机就会按照Python默认的空间分配和回收规则，继续保留或者把数据扔进垃圾箱，从而释放数据占用的这部分内存，这个过程就叫做“内存回收”。

这种标签的概念也意味着变量可以随时指向不同类型的对象，这就解释了为什么Python可以不用像其它语言一样提前声明变量的类型就能用。例如，一个变量可以指向一个整数，然后在后续代码中转而指向一个字符串，而不会引发错误，换了其他语言，早就报错了。

所以，尽管我们通常称Python的变量为容器，但更准确地说，它们是对象的标签或引用。

举个例子: 

x = 10
y = z = x
print(id(x))
print(id(y))
print(id(z))
x = 5
print(id(x))
print(id(y))
print(id(z))

id（）表示这个值在内存中分配的唯一的表示符，id相同，说明变量指向的内存地址一样，也就是变量的值是一样的。如果大家执行上面的语句之后会发现，x y z第一次的id都一样，说明它们指向同一个内存地址，但是当x再被赋了一个新值之后他的id就变了。这就相当于x这个变量变成其他新值的标签了。

刚学习编程时，这种差别可能意义不大，但是你越早知道这个区别越好，因为你迟早会遇到变量的行为出乎意料的情形，这时候如果对你能对变量的工作原理有准确的认识，这将有助于搞清楚代码是如何运行的。

最后一个关于变量的事情需要重点提一下，就是关于变量的命名问题。好的变量名字会很大的提高你的代码可阅读性。这一点在所有的语言上都会被着重提到，毕竟变量名称是代码里最接近我们熟悉的自然语言，而不是代码的逻辑。

有研究表明，程序员80%的时间都在读代码，只有20%是在写。如果你的代码很难让人读懂，你要小心会不会被你同事问候全家了。编程新手和高手其中一个重要的区别就是代码可读性。你一定要记住，好的变量名不是给机器写的，而是给阅读代码的人（包括你自己）写的。

正如计算机科学领域里一句广为流传的格言（俏皮话）：
计算机科学领域只有两件难事：缓存失效和命名。
——Phil Karlton

我们简单介绍一下变量的命名规则。上面提到过，变量在命名的时候，首先要保证名字合法，也就是必须只能使用数字、字符或下划线组成，并且开头不能用数字。

还有不能使用关键字，具体什么是关键字，我们下一个班会会详细说一下。

最后，也是最容易被人们忽视的是，名字要尽量有意义。有意义的变量名不仅能帮阅读的人快速理解代码逻辑，也能帮你避免一些程序错误。你可以比较一下以下两个变量命名的区别:

# 描述性弱的名字：看不懂在做什么
value = process(s.strip())

# 描述性强的名字：尝试从用户输入里解析出一个用户名
username = extract_username(input_string.strip())

是不是理解难易立见高下？

对了，还有一些容易混淆的字符也要避免，比如1lL, Oo0。大小写有区分，如果是多个单词就用下划线连接。

关于变量，我们就先介绍这么多，以后的几乎所有练习都会涉及变量的使用。以后遇到什么值得提的事情我们再细聊。补充文章请参照廖神的这篇: https://www.liaoxuefeng.com/wiki/1016959663602400/1017063826246112

今天的班会就到这里，大家下次班会再见！


今日练习: 让你的程序接收两次输入，然后打印的时候让这两次输入内容调换顺序打印出来。比如第一次输入5，第二次输入6，那打印的时候输出的第一行是6，第二行是5